<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="900px" preserveAspectRatio="none" style="width:1545px;height:900px;background:#FFFFFF;" version="1.1" viewBox="0 0 1545 900" width="1545px" zoomAndPan="magnify"><defs/><g><!--cluster Bluetooth Communication--><g class="cluster" data-entity="Bluetooth Communication" data-source-line="5" data-uid="ent0002" id="cluster_Bluetooth Communication"><path d="M8.5,6 L214.5166,6 A3.75,3.75 0 0 1 217.0166,8.5 L224.0166,28.2969 L1535.5,28.2969 A2.5,2.5 0 0 1 1538,30.7969 L1538,795.73 A2.5,2.5 0 0 1 1535.5,798.23 L8.5,798.23 A2.5,2.5 0 0 1 6,795.73 L6,8.5 A2.5,2.5 0 0 1 8.5,6" fill="none" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="6" x2="224.0166" y1="28.2969" y2="28.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="205.0166" x="10" y="20.9951">Bluetooth Communication</text></g><!--class BasicBluetoothCommunication--><g class="entity" data-entity="BasicBluetoothCommunication" data-source-line="6" data-uid="ent0003" id="entity_BasicBluetoothCommunication"><rect fill="#F1F1F1" height="88.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="548.874" x="500.56" y="41"/><ellipse cx="663.0605" cy="57" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M658.9824,52.7656 L658.9824,50.6094 L666.373,50.6094 L666.373,52.7656 L663.9042,52.7656 L663.9042,60.8438 L666.373,60.8438 L666.373,63 L658.9824,63 L658.9824,60.8438 L661.4511,60.8438 L661.4511,52.7656 L658.9824,52.7656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="215.373" x="683.5605" y="61.8467">BasicBluetoothCommunication</text><line style="stroke:#181818;stroke-width:0.5;" x1="501.56" x2="1048.434" y1="73" y2="73"/><ellipse cx="511.56" cy="86.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="522.874" x="520.56" y="89.9951">sendMessage(BluetoothDevice device, MessageComposed message): void</text><ellipse cx="511.56" cy="102.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="383.7627" x="520.56" y="106.292">broadcastMessage(MessageComposed message): void</text><ellipse cx="511.56" cy="119.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164.9922" x="520.56" y="122.5889">closeConnection(): void</text></g><!--class BluetoothCommunicationManager--><g class="entity" data-entity="BluetoothCommunicationManager" data-source-line="12" data-uid="ent0004" id="entity_BluetoothCommunicationManager"><rect fill="#F1F1F1" height="32" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="271.6748" x="639.16" y="206.89"/><ellipse cx="654.16" cy="222.89" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M657.1288,228.5306 Q656.5506,228.8275 655.91,228.9681 Q655.2694,229.1244 654.5663,229.1244 Q652.0663,229.1244 650.7381,227.4838 Q649.4256,225.8275 649.4256,222.7025 Q649.4256,219.5775 650.7381,217.9213 Q652.0663,216.265 654.5663,216.265 Q655.2694,216.265 655.91,216.4213 Q656.5663,216.5775 657.1288,216.8744 L657.1288,219.5931 Q656.5038,219.015 655.91,218.7494 Q655.3163,218.4681 654.6913,218.4681 Q653.3475,218.4681 652.66,219.5463 Q651.9725,220.6088 651.9725,222.7025 Q651.9725,224.7963 652.66,225.8744 Q653.3475,226.9369 654.6913,226.9369 Q655.3163,226.9369 655.91,226.6713 Q656.5038,226.39 657.1288,225.8119 L657.1288,228.5306 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239.6748" x="668.16" y="227.7367">BluetoothCommunicationManager</text></g><!--class BluetoothClientManager--><g class="entity" data-entity="BluetoothClientManager" data-source-line="13" data-uid="ent0005" id="entity_BluetoothClientManager"><rect fill="#F1F1F1" height="32" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201.8594" x="202.07" y="364.63"/><ellipse cx="217.07" cy="380.63" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M220.0388,386.2706 Q219.4606,386.5675 218.82,386.7081 Q218.1794,386.8644 217.4763,386.8644 Q214.9763,386.8644 213.6481,385.2238 Q212.3356,383.5675 212.3356,380.4425 Q212.3356,377.3175 213.6481,375.6613 Q214.9763,374.005 217.4763,374.005 Q218.1794,374.005 218.82,374.1613 Q219.4763,374.3175 220.0388,374.6144 L220.0388,377.3331 Q219.4138,376.755 218.82,376.4894 Q218.2263,376.2081 217.6013,376.2081 Q216.2575,376.2081 215.57,377.2863 Q214.8825,378.3488 214.8825,380.4425 Q214.8825,382.5363 215.57,383.6144 Q216.2575,384.6769 217.6013,384.6769 Q218.2263,384.6769 218.82,384.4113 Q219.4138,384.13 220.0388,383.5519 L220.0388,386.2706 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169.8594" x="231.07" y="385.4767">BluetoothClientManager</text></g><!--class BluetoothServerManager--><g class="entity" data-entity="BluetoothServerManager" data-source-line="14" data-uid="ent0006" id="entity_BluetoothServerManager"><rect fill="#F1F1F1" height="32" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="207.2393" x="1157.38" y="364.63"/><ellipse cx="1172.38" cy="380.63" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1175.3488,386.2706 Q1174.7706,386.5675 1174.13,386.7081 Q1173.4894,386.8644 1172.7863,386.8644 Q1170.2863,386.8644 1168.9581,385.2238 Q1167.6456,383.5675 1167.6456,380.4425 Q1167.6456,377.3175 1168.9581,375.6613 Q1170.2863,374.005 1172.7863,374.005 Q1173.4894,374.005 1174.13,374.1613 Q1174.7863,374.3175 1175.3488,374.6144 L1175.3488,377.3331 Q1174.7238,376.755 1174.13,376.4894 Q1173.5363,376.2081 1172.9113,376.2081 Q1171.5675,376.2081 1170.88,377.2863 Q1170.1925,378.3488 1170.1925,380.4425 Q1170.1925,382.5363 1170.88,383.6144 Q1171.5675,384.6769 1172.9113,384.6769 Q1173.5363,384.6769 1174.13,384.4113 Q1174.7238,384.13 1175.3488,383.5519 L1175.3488,386.2706 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175.2393" x="1186.38" y="385.4767">BluetoothServerManager</text></g><!--class CommunicationChannelThread--><g class="entity" data-entity="CommunicationChannelThread" data-source-line="16" data-uid="ent0007" id="entity_CommunicationChannelThread"><rect fill="#F1F1F1" height="259.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="545.8594" x="499.07" y="522.37"/><ellipse cx="659.2087" cy="538.37" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M662.1774,544.0106 Q661.5993,544.3075 660.9587,544.4481 Q660.318,544.6044 659.6149,544.6044 Q657.1149,544.6044 655.7868,542.9638 Q654.4743,541.3075 654.4743,538.1825 Q654.4743,535.0575 655.7868,533.4013 Q657.1149,531.745 659.6149,531.745 Q660.318,531.745 660.9587,531.9013 Q661.6149,532.0575 662.1774,532.3544 L662.1774,535.0731 Q661.5524,534.495 660.9587,534.2294 Q660.3649,533.9481 659.7399,533.9481 Q658.3962,533.9481 657.7087,535.0263 Q657.0212,536.0888 657.0212,538.1825 Q657.0212,540.2763 657.7087,541.3544 Q658.3962,542.4169 659.7399,542.4169 Q660.3649,542.4169 660.9587,542.1513 Q661.5524,541.87 662.1774,541.2919 L662.1774,544.0106 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217.082" x="679.7087" y="543.2167">CommunicationChannelThread</text><line style="stroke:#181818;stroke-width:0.5;" x1="500.07" x2="1043.9294" y1="554.37" y2="554.37"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="507.07" y="565.0184"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165.5391" x="519.07" y="571.3651">BluetoothSocket socket</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="507.07" y="581.3153"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.8408" x="519.07" y="587.662">BufferedInputStream inputStream</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="507.07" y="597.6122"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="261.3857" x="519.07" y="603.9589">BufferedOutputStream outputStream</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="507.07" y="613.9091"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="172.3545" x="519.07" y="620.2557">AtomicBoolean isClosing</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="507.07" y="630.2059"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="442.8389" x="519.07" y="636.5526">ConcurrentLinkedQueue&lt;MessageComposed&gt; messageQueue</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="507.07" y="646.5028"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.0898" x="519.07" y="652.8495">AtomicBoolean isSending</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="507.07" y="662.7997"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="341.2227" x="519.07" y="669.1464">&lt;BluetoothSocket, Unit&gt; onDeviceDisconnected</text><line style="stroke:#181818;stroke-width:0.5;" x1="500.07" x2="1043.9294" y1="676.4481" y2="676.4481"/><ellipse cx="510.07" cy="690.0966" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.2197" x="519.07" y="693.4432">run(): void</text><ellipse cx="510.07" cy="706.3934" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="362.0928" x="519.07" y="709.7401">write(MessageComposed messageComposed): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="507.07" y="719.6903"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.8164" x="519.07" y="726.037">processQueue(): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="507.07" y="735.9872"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="347.6963" x="519.07" y="742.3339">sendMessage(MessageComposed message): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="507.07" y="752.2841"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="519.8594" x="519.07" y="758.6307">processMessageForHandler(MessageComposed messageComposed): void</text><ellipse cx="510.07" cy="771.5809" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.0674" x="519.07" y="774.9276">cancel(): void</text></g><!--class BasicBluetoothCommunicationThread--><g class="entity" data-entity="BasicBluetoothCommunicationThread" data-source-line="32" data-uid="ent0008" id="entity_BasicBluetoothCommunicationThread"><rect fill="#F1F1F1" height="129.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="623.4541" x="460.27" y="315.89"/><ellipse cx="635.4306" cy="331.89" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M638.3994,337.5306 Q637.8213,337.8275 637.1806,337.9681 Q636.54,338.1244 635.8369,338.1244 Q633.3369,338.1244 632.0088,336.4838 Q630.6963,334.8275 630.6963,331.7025 Q630.6963,328.5775 632.0088,326.9213 Q633.3369,325.265 635.8369,325.265 Q636.54,325.265 637.1806,325.4213 Q637.8369,325.5775 638.3994,325.8744 L638.3994,328.5931 Q637.7744,328.015 637.1806,327.7494 Q636.5869,327.4681 635.9619,327.4681 Q634.6181,327.4681 633.9306,328.5463 Q633.2431,329.6088 633.2431,331.7025 Q633.2431,333.7963 633.9306,334.8744 Q634.6181,335.9369 635.9619,335.9369 Q636.5869,335.9369 637.1806,335.6713 Q637.7744,335.39 638.3994,334.8119 L638.3994,337.5306 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264.6328" x="655.9306" y="336.7367">BasicBluetoothCommunicationThread</text><line style="stroke:#181818;stroke-width:0.5;" x1="461.27" x2="1082.7241" y1="347.89" y2="347.89"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="468.27" y="358.5384"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289.0098" x="480.27" y="364.8851">BluetoothDeviceManager deviceManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="461.27" x2="1082.7241" y1="372.1869" y2="372.1869"/><ellipse cx="471.27" cy="385.8353" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="597.4541" x="480.27" y="389.182">addConnection(BluetoothSocket socket, CommunicationChannelThread thread): void</text><ellipse cx="471.27" cy="402.1322" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="418.1475" x="480.27" y="405.4789">sendBroadcastMessage(MessageComposed message): void</text><ellipse cx="471.27" cy="418.4291" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="522.874" x="480.27" y="421.7757">sendMessage(BluetoothDevice device, MessageComposed message): void</text><ellipse cx="471.27" cy="434.7259" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.7773" x="480.27" y="438.0726">close(): void</text></g><!--class ClientThread--><g class="entity" data-entity="ClientThread" data-source-line="40" data-uid="ent0009" id="entity_ClientThread"><rect fill="#F1F1F1" height="162.0781" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="441.5361" x="22.23" y="571.26"/><ellipse cx="193.853" cy="587.26" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M196.8218,592.9006 Q196.2437,593.1975 195.603,593.3381 Q194.9624,593.4944 194.2593,593.4944 Q191.7593,593.4944 190.4312,591.8538 Q189.1187,590.1975 189.1187,587.0725 Q189.1187,583.9475 190.4312,582.2913 Q191.7593,580.635 194.2593,580.635 Q194.9624,580.635 195.603,580.7913 Q196.2593,580.9475 196.8218,581.2444 L196.8218,583.9631 Q196.1968,583.385 195.603,583.1194 Q195.0093,582.8381 194.3843,582.8381 Q193.0405,582.8381 192.353,583.9163 Q191.6655,584.9788 191.6655,587.0725 Q191.6655,589.1663 192.353,590.2444 Q193.0405,591.3069 194.3843,591.3069 Q195.0093,591.3069 195.603,591.0413 Q196.1968,590.76 196.8218,590.1819 L196.8218,592.9006 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.79" x="214.353" y="592.1067">ClientThread</text><line style="stroke:#181818;stroke-width:0.5;" x1="23.23" x2="462.7661" y1="603.26" y2="603.26"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="30.23" y="613.9084"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.0781" x="42.23" y="620.2551">MainActivity activity</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="30.23" y="630.2053"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="251.2344" x="42.23" y="636.552">BluetoothAdapter bluetoothAdapter</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="30.23" y="646.5022"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.2773" x="42.23" y="652.8489">BluetoothDevice device</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="30.23" y="662.7991"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289.0098" x="42.23" y="669.1457">BluetoothDeviceManager deviceManager</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="30.23" y="679.0959"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="341.2227" x="42.23" y="685.4426">&lt;BluetoothSocket, Unit&gt; onDeviceDisconnected</text><line style="stroke:#181818;stroke-width:0.5;" x1="23.23" x2="462.7661" y1="692.7444" y2="692.7444"/><ellipse cx="33.23" cy="706.3928" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.2197" x="42.23" y="709.7395">run(): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="30.23" y="719.6897"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="415.5361" x="42.23" y="726.0364">manageMyConnectedSocket(BluetoothSocket socket): void</text></g><!--class ServerThread--><g class="entity" data-entity="ServerThread" data-source-line="50" data-uid="ent0010" id="entity_ServerThread"><rect fill="#F1F1F1" height="194.6719" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="441.5361" x="1080.23" y="554.96"/><ellipse cx="1249.1631" cy="570.96" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1252.1319,576.6006 Q1251.5537,576.8975 1250.9131,577.0381 Q1250.2725,577.1944 1249.5694,577.1944 Q1247.0694,577.1944 1245.7412,575.5538 Q1244.4287,573.8975 1244.4287,570.7725 Q1244.4287,567.6475 1245.7412,565.9913 Q1247.0694,564.335 1249.5694,564.335 Q1250.2725,564.335 1250.9131,564.4913 Q1251.5694,564.6475 1252.1319,564.9444 L1252.1319,567.6631 Q1251.5069,567.085 1250.9131,566.8194 Q1250.3194,566.5381 1249.6944,566.5381 Q1248.3506,566.5381 1247.6631,567.6163 Q1246.9756,568.6788 1246.9756,570.7725 Q1246.9756,572.8663 1247.6631,573.9444 Q1248.3506,575.0069 1249.6944,575.0069 Q1250.3194,575.0069 1250.9131,574.7413 Q1251.5069,574.46 1252.1319,573.8819 L1252.1319,576.6006 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.1699" x="1269.6631" y="575.8067">ServerThread</text><line style="stroke:#181818;stroke-width:0.5;" x1="1081.23" x2="1520.7661" y1="586.96" y2="586.96"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1088.23" y="597.6084"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.0781" x="1100.23" y="603.9551">MainActivity activity</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1088.23" y="613.9053"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="251.2344" x="1100.23" y="620.252">BluetoothAdapter bluetoothAdapter</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1088.23" y="630.2022"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289.0098" x="1100.23" y="636.5489">BluetoothDeviceManager deviceManager</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1088.23" y="646.4991"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="341.2227" x="1100.23" y="652.8457">&lt;BluetoothSocket, Unit&gt; onDeviceDisconnected</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1088.23" y="662.7959"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280.9434" x="1100.23" y="669.1426">&lt;String, Unit&gt;? onServerSocketCreated</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1088.23" y="679.0928"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257.3594" x="1100.23" y="685.4395">BluetoothServerSocket serverSocket</text><line style="stroke:#181818;stroke-width:0.5;" x1="1081.23" x2="1520.7661" y1="692.7413" y2="692.7413"/><ellipse cx="1091.23" cy="706.3897" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73.2197" x="1100.23" y="709.7364">run(): void</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="1088.23" y="719.6866"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="415.5361" x="1100.23" y="726.0332">manageMyConnectedSocket(BluetoothSocket socket): void</text><ellipse cx="1091.23" cy="738.9834" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85.7773" x="1100.23" y="742.3301">close(): void</text></g><!--class MessageHandler--><g class="entity" data-entity="MessageHandler" data-source-line="66" data-uid="ent0011" id="entity_MessageHandler"><rect fill="#F1F1F1" height="32" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="148.4844" x="697.76" y="861.23"/><ellipse cx="712.76" cy="877.23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M715.7288,882.8706 Q715.1506,883.1675 714.51,883.3081 Q713.8694,883.4644 713.1663,883.4644 Q710.6663,883.4644 709.3381,881.8238 Q708.0256,880.1675 708.0256,877.0425 Q708.0256,873.9175 709.3381,872.2613 Q710.6663,870.605 713.1663,870.605 Q713.8694,870.605 714.51,870.7613 Q715.1663,870.9175 715.7288,871.2144 L715.7288,873.9331 Q715.1038,873.355 714.51,873.0894 Q713.9163,872.8081 713.2913,872.8081 Q711.9475,872.8081 711.26,873.8863 Q710.5725,874.9488 710.5725,877.0425 Q710.5725,879.1363 711.26,880.2144 Q711.9475,881.2769 713.2913,881.2769 Q713.9163,881.2769 714.51,881.0113 Q715.1038,880.73 715.7288,880.1519 L715.7288,882.8706 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116.4844" x="726.76" y="882.0767">MessageHandler</text></g><!--link CommunicationChannelThread to MessageHandler--><g class="link" data-entity-1="CommunicationChannelThread" data-entity-2="MessageHandler" data-source-line="66" data-uid="lnk12" id="link_CommunicationChannelThread_MessageHandler"><path codeLine="66" d="M772,782.66 C772,814.16 772,837.7 772,854.87" fill="none" id="CommunicationChannelThread-to-MessageHandler" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="772,860.87,776,851.87,772,855.87,768,851.87,772,860.87" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.7231" x="773" y="827.2969">sends received messages to</text></g><!--reverse link BasicBluetoothCommunicationThread to ClientThread--><g class="link" data-entity-1="BasicBluetoothCommunicationThread" data-entity-2="ClientThread" data-source-line="67" data-uid="lnk13" id="link_BasicBluetoothCommunicationThread_ClientThread"><path codeLine="67" d="M620.5568,453.5986 C571.5768,477.2186 532.19,496.67 482,522.37 C452,537.74 420.11,554.57 389.73,570.87" fill="none" id="BasicBluetoothCommunicationThread-backto-ClientThread" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="636.77,445.78,617.9506,448.1942,623.163,459.003,636.77,445.78" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.0508" x="571" y="488.4369">extends</text></g><!--reverse link BasicBluetoothCommunicationThread to ServerThread--><g class="link" data-entity-1="BasicBluetoothCommunicationThread" data-entity-2="ServerThread" data-source-line="68" data-uid="lnk14" id="link_BasicBluetoothCommunicationThread_ServerThread"><path codeLine="68" d="M923.4432,453.5986 C972.4232,477.2186 1011.81,496.67 1062,522.37 C1082.04,532.63 1102.92,543.55 1123.62,554.52" fill="none" id="BasicBluetoothCommunicationThread-backto-ServerThread" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="907.23,445.78,920.837,459.003,926.0494,448.1942,907.23,445.78" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.0508" x="999" y="488.4369">extends</text></g><!--link BasicBluetoothCommunicationThread to CommunicationChannelThread--><g class="link" data-entity-1="BasicBluetoothCommunicationThread" data-entity-2="CommunicationChannelThread" data-source-line="69" data-uid="lnk15" id="link_BasicBluetoothCommunicationThread_CommunicationChannelThread"><path codeLine="69" d="M772,445.54 C772,468.59 772,489.51 772,516.13" fill="none" id="BasicBluetoothCommunicationThread-to-CommunicationChannelThread" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="772,522.13,776,513.13,772,517.13,768,513.13,772,522.13" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="59.8584" x="773" y="488.4369">manages</text></g><!--reverse link BasicBluetoothCommunication to BluetoothCommunicationManager--><g class="link" data-entity-1="BasicBluetoothCommunication" data-entity-2="BluetoothCommunicationManager" data-source-line="73" data-uid="lnk16" id="link_BasicBluetoothCommunication_BluetoothCommunicationManager"><path codeLine="73" d="M775,148.04 C775,174.34 775,188.21 775,206.66" fill="none" id="BasicBluetoothCommunication-backto-BluetoothCommunicationManager" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="775,130.04,769,148.04,781,148.04,775,130.04" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.9082" x="776" y="172.9569">implements</text></g><!--reverse link BluetoothCommunicationManager to BluetoothClientManager--><g class="link" data-entity-1="BluetoothCommunicationManager" data-entity-2="BluetoothClientManager" data-source-line="74" data-uid="lnk17" id="link_BluetoothCommunicationManager_BluetoothClientManager"><path codeLine="74" d="M689.7553,243.5435 C621.9653,259.7835 532.65,283.28 443,315.89 C404.22,329.99 361.26,350.29 333.29,364.16" fill="none" id="BluetoothCommunicationManager-backto-BluetoothClientManager" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="707.26,239.35,688.3575,237.7086,691.1531,249.3784,707.26,239.35" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.0508" x="589" y="281.9569">extends</text></g><!--reverse link BluetoothCommunicationManager to BluetoothServerManager--><g class="link" data-entity-1="BluetoothCommunicationManager" data-entity-2="BluetoothServerManager" data-source-line="75" data-uid="lnk18" id="link_BluetoothCommunicationManager_BluetoothServerManager"><path codeLine="75" d="M854.616,243.8406 C920.646,260.7706 1010.36,285.14 1101,315.89 C1144.46,330.63 1193.33,350.61 1225.49,364.25" fill="none" id="BluetoothCommunicationManager-backto-BluetoothServerManager" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="837.18,239.37,853.1258,249.6526,856.1062,238.0286,837.18,239.37" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.0508" x="1004" y="281.9569">extends</text></g><!--link BluetoothClientManager to ClientThread--><g class="link" data-entity-1="BluetoothClientManager" data-entity-2="ClientThread" data-source-line="76" data-uid="lnk19" id="link_BluetoothClientManager_ClientThread"><path codeLine="76" d="M299.6,396.9 C292.28,429.82 275.8532,503.6332 262.1732,565.1132" fill="none" id="BluetoothClientManager-to-ClientThread" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="260.87,570.97,266.7293,563.0537,261.956,566.0894,258.9203,561.3161,260.87,570.97" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.3247" x="283" y="488.4369">creates</text></g><!--link BluetoothServerManager to ServerThread--><g class="link" data-entity-1="BluetoothServerManager" data-entity-2="ServerThread" data-source-line="77" data-uid="lnk20" id="link_BluetoothServerManager_ServerThread"><path codeLine="77" d="M1263.27,396.9 C1267.73,426.98 1277.1,490.1449 1285.79,548.7549" fill="none" id="BluetoothServerManager-to-ServerThread" style="stroke:#181818;stroke-width:1;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="1286.67,554.69,1289.3068,545.2007,1285.9367,549.7441,1281.3933,546.374,1286.67,554.69" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48.3247" x="1278" y="488.4369">creates</text></g><!--SRC=[jLRRZjem47tFLupsfLijuGCGebfOLQrKMhMq7s3iOR58xCXseAjk_xs3xTnGGg6Y4YANENDYdpapoLOA1CmBzm8vvciqDh4xgGfcM0vsouG-IFKC6vPPJ9AaO7p7dX7kvbc9JcktXONEyr99pfpKwWv-9G1IEJGRnX7cp4fUOpjGZmHuiAZ44gqbsliQ-OHxIUd27qOGuvHVQ8k2bkgltqvWhwK8F6kZcU3CkehiaYIUKMYXbK9-NDDz4_oTq1_FcBNGl_ubKyHcUb2PHEK6moiqUpHLk8vtk1TRHalAlcyDCX65IXi6pNVemFf3Z9MR3HeK7rLHkfMZj9ogK9ztGLzArw1qwoB07ftEgMXQPyWKIBiWZSW38KXQyT8Osk0dgNOelfPOulH4wbcbjO_siwwex3Nhz6Hl8_YXf9k1Li48JzBoK2ICXJDbkrXqus2a6wnvTTtEI0kZEONz6ZjSQTkI5xYeOehGzzfyO4faQAvPpWDdYcFMSI10Ov_XHXfmIL0k-YnsKcDAUY0JekNyVdUDpldI-KDd4qVbvl_IYBUQ0hwXXqGCdTdLQycaUYG9zf9688id9r8-2bRGH8FroOrUnUDohwp63LeWpJtVycLHuGBJG6a7D0hZwJzhT4iTqYaDBvea4VYEa64F8Nz16wcX9qEuqgDrSMDfUnsPqEyDVCFCzvJToiB26jq1KOKYe4sICtsNfhEg5-AWcS2nVomOv2ZtJMjOS3hv- -YOlgPffpacW3_TaV7IvBPhhaaUZsTd9im4Wkua1mds6G-qmRPe6sre267pRetud3PIAtdk4sJwEXwVVxrFGEP5vXc9wXmo2D7_5T2Iv0gApfT27qNx4K7AJWsvjtuheKFe4xfrYmb_0000]--></g></svg>