<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="546px" preserveAspectRatio="none" style="width:710px;height:546px;background:#FFFFFF;" version="1.1" viewBox="0 0 710 546" width="710px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="103.2031" style="stroke:#000000;stroke-width:1.5;" width="481.8877" x="222.0303" y="127.4297"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="481.8877" x="222.0303" y="358.0313"/><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="383.9375" width="8" x="24.2651" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="28" x2="28" y1="81.2969" y2="465.2344"/></g><g><title>NetworkConsistencyChecker</title><rect fill="#000000" fill-opacity="0.00000" height="383.9375" width="8" x="335.2998" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="339.0303" x2="339.0303" y1="81.2969" y2="465.2344"/></g><g><title>ConsistencyCheckCallback</title><rect fill="#000000" fill-opacity="0.00000" height="383.9375" width="8" x="589.3579" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="592.7979" x2="592.7979" y1="81.2969" y2="465.2344"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="5" y="77.9951">Client</text><ellipse cx="28.2651" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28.2651,21.5 L28.2651,48.5 M15.2651,29.5 L41.2651,29.5 M28.2651,48.5 L15.2651,63.5 M28.2651,48.5 L41.2651,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40.5303" x="5" y="477.2295">Client</text><ellipse cx="28.2651" cy="489.0313" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28.2651,497.0313 L28.2651,524.0313 M15.2651,505.0313 L41.2651,505.0313 M28.2651,524.0313 L15.2651,539.0313 M28.2651,524.0313 L41.2651,539.0313" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Checker"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="214.5391" x="232.0303" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200.5391" x="239.0303" y="69.9951">NetworkConsistencyChecker</text></g><g class="participant participant-tail" data-participant="Checker"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="214.5391" x="232.0303" y="464.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200.5391" x="239.0303" y="484.2295">NetworkConsistencyChecker</text></g><g class="participant participant-head" data-participant="Callback"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201.1201" x="492.7979" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.1201" x="499.7979" y="69.9951">ConsistencyCheckCallback</text></g><g class="participant participant-tail" data-participant="Callback"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="201.1201" x="492.7979" y="464.2344"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.1201" x="499.7979" y="484.2295">ConsistencyCheckCallback</text></g><g class="message" data-participant-1="Client" data-participant-2="Checker"><polygon fill="#181818" points="327.2998,108.4297,337.2998,112.4297,327.2998,116.4297,331.2998,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="28.2651" x2="333.2998" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.9189" x="35.2651" y="107.3638">startChecking(timeout, clients)</text></g><path d="M222.0303,127.4297 L286.4731,127.4297 L286.4731,134.5625 L276.4731,144.5625 L222.0303,144.5625 L222.0303,127.4297" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="103.2031" style="stroke:#000000;stroke-width:1.5;" width="481.8877" x="222.0303" y="127.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="237.0303" y="140.4966">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.2969" x="301.4731" y="139.6401">[Only one client]</text><g class="message" data-participant-1="Checker" data-participant-2="Callback"><polygon fill="#181818" points="581.3579,161.6953,591.3579,165.6953,581.3579,169.6953,585.3579,165.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="339.2998" x2="587.3579" y1="165.6953" y2="165.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.8115" x="346.2998" y="160.6294">onConsistencyCheckFinished(true)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="222.0303" x2="703.918" y1="174.6953" y2="174.6953"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105.7246" x="227.0303" y="184.9058">[Multiple clients]</text><g class="message" data-participant-1="Checker" data-participant-2="Checker"><line style="stroke:#181818;stroke-width:1;" x1="339.2998" x2="381.2998" y1="209.6328" y2="209.6328"/><line style="stroke:#181818;stroke-width:1;" x1="381.2998" x2="381.2998" y1="209.6328" y2="222.6328"/><line style="stroke:#181818;stroke-width:1;" x1="340.2998" x2="381.2998" y1="222.6328" y2="222.6328"/><polygon fill="#181818" points="350.2998,218.6328,340.2998,222.6328,350.2998,226.6328,346.2998,222.6328" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.3296" x="346.2998" y="204.5669">Wait for timeout</text></g><g class="message" data-participant-1="Client" data-participant-2="Checker"><polygon fill="#181818" points="327.2998,254.7656,337.2998,258.7656,327.2998,262.7656,331.2998,258.7656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="28.2651" x2="333.2998" y1="258.7656" y2="258.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287.0347" x="35.2651" y="253.6997">addClientConnections(clientId, connections)</text></g><g class="message" data-participant-1="Checker" data-participant-2="Checker"><line style="stroke:#181818;stroke-width:1;" x1="339.2998" x2="381.2998" y1="287.8984" y2="287.8984"/><line style="stroke:#181818;stroke-width:1;" x1="381.2998" x2="381.2998" y1="287.8984" y2="300.8984"/><line style="stroke:#181818;stroke-width:1;" x1="340.2998" x2="381.2998" y1="300.8984" y2="300.8984"/><polygon fill="#181818" points="350.2998,296.8984,340.2998,300.8984,350.2998,304.8984,346.2998,300.8984" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.1777" x="346.2998" y="282.8325">Store connections</text></g><g class="message" data-participant-1="Checker" data-participant-2="Checker"><line style="stroke:#181818;stroke-width:1;" x1="339.2998" x2="381.2998" y1="330.0313" y2="330.0313"/><line style="stroke:#181818;stroke-width:1;" x1="381.2998" x2="381.2998" y1="330.0313" y2="343.0313"/><line style="stroke:#181818;stroke-width:1;" x1="340.2998" x2="381.2998" y1="343.0313" y2="343.0313"/><polygon fill="#181818" points="350.2998,339.0313,340.2998,343.0313,350.2998,347.0313,346.2998,343.0313" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.8071" x="346.2998" y="324.9653">checkConsistency()</text></g><path d="M222.0303,358.0313 L286.4731,358.0313 L286.4731,365.1641 L276.4731,375.1641 L222.0303,375.1641 L222.0303,358.0313" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="481.8877" x="222.0303" y="358.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="237.0303" y="371.0981">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="198.1772" x="301.4731" y="370.2417">[All clients connected correctly]</text><g class="message" data-participant-1="Checker" data-participant-2="Callback"><polygon fill="#181818" points="581.3579,392.2969,591.3579,396.2969,581.3579,400.2969,585.3579,396.2969" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="339.2998" x2="587.3579" y1="396.2969" y2="396.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225.8115" x="346.2998" y="391.231">onConsistencyCheckFinished(true)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="222.0303" x2="703.918" y1="405.2969" y2="405.2969"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="165.0752" x="227.0303" y="415.5073">[Inconsistent connections]</text><g class="message" data-participant-1="Checker" data-participant-2="Callback"><polygon fill="#181818" points="581.3579,436.2344,591.3579,440.2344,581.3579,444.2344,585.3579,440.2344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="339.2998" x2="587.3579" y1="440.2344" y2="440.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230.0581" x="346.2998" y="435.1685">onConsistencyCheckFinished(false)</text></g><!--SRC=[fP6nJiGm38RtF8LrKol12zo0X2eXtG0C3CmXyN5MZLibhb3V7jCcEkxe19aSwy_dttzyq251nuIYRlH9AT3eHM7tXFevfBuR95DMb31t9mmzfXtu3AM-V7AjxJppcm_z-g9Sd5kdmUrTfUmXgt6M6ybxe_I1mwGt41PbRfrdXMVX6GR1qdLWfm0MLk7lJNDjv864yWbZesd2rY5dXCU9bKQkkFoBLxszUb8uMah5baE9cqlu6DUkZHSCIkQYMUc7QCkSkwtR6lHYNu4_PPkgi2HxNh1ftHBFFNDTfJ8mMfMILJp_Dww3XAhI2uz_uHwz8Tll8By0]--></g></svg>